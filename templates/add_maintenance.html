{% extends 'base.html' %}

{% block title %}–î–æ–¥–∞—Ç–∏ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è - LuxDrive{% endblock %}

{% block content %}
<section>
    <div class="section-title">
        <h2>–î–æ–¥–∞—Ç–∏ –∑–∞–ø–∏—Å –ø—Ä–æ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è</h2>
        <p>–í–Ω–µ—Å—ñ—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–µ—Ö–Ω—ñ—á–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–º–æ–±—ñ–ª—è</p>
    </div>

    <div style="max-width: 600px; margin: 0 auto; padding: 20px;">
        <form method="POST" style="background: var(--card-bg); padding: 30px; border-radius: 15px;">

            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; color: #ccc;">–ê–≤—Ç–æ–º–æ–±—ñ–ª—å *</label>
                <select name="car_id" required
                    style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--glass-border); background: #0d0d0d; color: white; font-size: 1em;">
                    <option value="">–û–±–µ—Ä—ñ—Ç—å –∞–≤—Ç–æ–º–æ–±—ñ–ª—å</option>
                    {% for car in cars %}
                    <option value="{{ car.id }}">{{ car.brand }} {{ car.model }} ({{ car.year }}) - {{ car.car_class }}
                    </option>
                    {% endfor %}
                </select>
            </div>

            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; color: #ccc;">–î–∞—Ç–∞ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è *</label>
                <input type="date" name="date" required value="{{ today }}"
                    style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--glass-border); background: #0d0d0d; color: white; font-size: 1em;">
            </div>

            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; color: #ccc;">–û–ø–∏—Å —Ä–æ–±—ñ—Ç *</label>
                <textarea name="description" required rows="3" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ó–∞–º—ñ–Ω–∞ –º–∞—Å–ª–∞ —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä—ñ–≤"
                    style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--glass-border); background: #0d0d0d; color: white; font-size: 1em; resize: vertical;"></textarea>
            </div>

            <div style="margin-bottom: 30px;">
                <label style="display: block; margin-bottom: 8px; color: #ccc;">–í–∞—Ä—Ç—ñ—Å—Ç—å (–≥—Ä–Ω) *</label>
                <input type="number" name="cost" required min="0" step="0.01" placeholder="0.00"
                    style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid var(--glass-border); background: #0d0d0d; color: white; font-size: 1em;">
            </div>

            <div style="display: flex; gap: 15px;">
                <button type="submit" class="btn-primary" style="flex: 1; padding: 15px;">
                    üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –∑–∞–ø–∏—Å
                </button>
                <a href="{{ url_for('manage_maintenance') }}" class="btn-secondary"
                    style="flex: 1; padding: 15px; text-align: center;">
                    –°–∫–∞—Å—É–≤–∞—Ç–∏
                </a>
            </div>

        </form>
    </div>
</section>
{% endblock %}